(window.webpackJsonp=window.webpackJsonp||[]).push([[388],{859:function(t,s,e){"use strict";e.r(s);var a=e(17),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"api-参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-参考"}},[t._v("#")]),t._v(" API 参考")]),t._v(" "),e("h2",{attrs:{id:"vuex-store"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex-store"}},[t._v("#")]),t._v(" Vuex.Store")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vuex "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vuex'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vuex"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Store")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("options "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h2",{attrs:{id:"vuex-store-构造器选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex-store-构造器选项"}},[t._v("#")]),t._v(" Vuex.Store 构造器选项")]),t._v(" "),e("h3",{attrs:{id:"state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[t._v("#")]),t._v(" state")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("Object | Function")])]),t._v(" "),e("p",[t._v("Vuex store 实例的根 state 对象。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/state.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("如果你传入返回一个对象的函数，其返回的对象会被用作根 state。这在你想要重用 state 对象，尤其是对于重用 module 来说非常有用。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E6%A8%A1%E5%9D%97%E9%87%8D%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"mutations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mutations"}},[t._v("#")]),t._v(" mutations")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("{ [type: string]: Function }")])]),t._v(" "),e("p",[t._v("在 store 上注册 mutation，处理函数总是接受 "),e("code",[t._v("state")]),t._v(" 作为第一个参数（如果定义在模块中，则为模块的局部状态），"),e("code",[t._v("payload")]),t._v(" 作为第二个参数（可选）。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/mutations.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#actions"}},[t._v("#")]),t._v(" actions")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("{ [type: string]: Function }")])]),t._v(" "),e("p",[t._v("在 store 上注册 action。处理函数总是接受 "),e("code",[t._v("context")]),t._v(" 作为第一个参数，"),e("code",[t._v("payload")]),t._v(" 作为第二个参数（可选）。")]),t._v(" "),e("p",[e("code",[t._v("context")]),t._v(" 对象包含以下属性：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于 `store.state`，若在模块中则为局部状态")]),t._v("\n  rootState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于 `store.state`，只存在于模块中")]),t._v("\n  commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于 `store.commit`")]),t._v("\n  dispatch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于 `store.dispatch`")]),t._v("\n  getters"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于 `store.getters`")]),t._v("\n  rootGetters "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于 `store.getters`，只存在于模块中")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("同时如果有第二个参数 "),e("code",[t._v("payload")]),t._v(" 的话也能够接收。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"getters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getters"}},[t._v("#")]),t._v(" getters")]),t._v(" "),e("ul",[e("li",[t._v("类型: "),e("code",[t._v("{ [key: string]: Function }")])])]),t._v(" "),e("p",[t._v("在 store 上注册 getter，getter 方法接受以下参数：")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("state,     // 如果在模块中定义则为模块的局部状态\ngetters,   // 等同于 store.getters\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("当定义在一个模块里时会特别一些：")]),t._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("state,       // 如果在模块中定义则为模块的局部状态\ngetters,     // 等同于 store.getters\nrootState    // 等同于 store.state\nrootGetters  // 所有 getters\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("注册的 getter 暴露为 "),e("code",[t._v("store.getters")]),t._v("。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/getters.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"modules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modules"}},[t._v("#")]),t._v(" modules")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("Object")])]),t._v(" "),e("p",[t._v("包含了子模块的对象，会被合并到 store，大概长这样：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  key"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    namespaced"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    mutations"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    actions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    getters"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    modules"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("p",[t._v("与根模块的选项一样，每个模块也包含 "),e("code",[t._v("state")]),t._v(" 和 "),e("code",[t._v("mutations")]),t._v(" 选项。模块的状态使用 key 关联到 store 的根状态。模块的 mutation 和 getter 只会接收 module 的局部状态作为第一个参数，而不是根状态，并且模块 action 的 "),e("code",[t._v("context.state")]),t._v(" 同样指向局部状态。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" plugins")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("Array<Function>")])]),t._v(" "),e("p",[t._v("一个数组，包含应用在 store 上的插件方法。这些插件直接接收 store 作为唯一参数，可以监听 mutation（用于外部地数据持久化、记录或调试）或者提交 mutation （用于内部数据，例如 websocket 或 某些观察者）")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/plugins.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"strict"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#strict"}},[t._v("#")]),t._v(" strict")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("Boolean")])])]),t._v(" "),e("li",[e("p",[t._v("默认值: "),e("code",[t._v("false")])]),t._v(" "),e("p",[t._v("使 Vuex store 进入严格模式，在严格模式下，任何 mutation 处理函数以外修改 Vuex state 都会抛出错误。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/strict.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"devtools"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#devtools"}},[t._v("#")]),t._v(" devtools")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型："),e("code",[t._v("Boolean")])]),t._v(" "),e("p",[t._v("为某个特定的 Vuex 实例打开或关闭 devtools。对于传入 "),e("code",[t._v("false")]),t._v(" 的实例来说 Vuex store 不会订阅到 devtools 插件。可用于一个页面中有多个 store 的情况。")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  devtools"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])])]),t._v(" "),e("h2",{attrs:{id:"vuex-store-实例属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex-store-实例属性"}},[t._v("#")]),t._v(" Vuex.Store 实例属性")]),t._v(" "),e("h3",{attrs:{id:"state-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state-2"}},[t._v("#")]),t._v(" state")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("Object")])]),t._v(" "),e("p",[t._v("根状态，只读。")])])]),t._v(" "),e("h3",{attrs:{id:"getters-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getters-2"}},[t._v("#")]),t._v(" getters")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型: "),e("code",[t._v("Object")])]),t._v(" "),e("p",[t._v("暴露出注册的 getter，只读。")])])]),t._v(" "),e("h2",{attrs:{id:"vuex-store-实例方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex-store-实例方法"}},[t._v("#")]),t._v(" Vuex.Store 实例方法")]),t._v(" "),e("h3",{attrs:{id:"commit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commit"}},[t._v("#")]),t._v(" commit")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("commit(type: string, payload?: any, options?: Object)")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("commit(mutation: Object, options?: Object)")])]),t._v(" "),e("p",[t._v("提交 mutation。"),e("code",[t._v("options")]),t._v(" 里可以有 "),e("code",[t._v("root: true")]),t._v("，它允许在"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4",target:"_blank",rel:"noopener noreferrer"}},[t._v("命名空间模块"),e("OutboundLink")],1),t._v("里提交根的 mutation。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/mutations.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"dispatch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dispatch"}},[t._v("#")]),t._v(" dispatch")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("dispatch(type: string, payload?: any, options?: Object)")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("dispatch(action: Object, options?: Object)")])]),t._v(" "),e("p",[t._v("分发 action。"),e("code",[t._v("options")]),t._v(" 里可以有 "),e("code",[t._v("root: true")]),t._v("，它允许在"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4",target:"_blank",rel:"noopener noreferrer"}},[t._v("命名空间模块"),e("OutboundLink")],1),t._v("里分发根的 action。返回一个解析所有被触发的 action 处理器的 Promise。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"replacestate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replacestate"}},[t._v("#")]),t._v(" replaceState")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("replaceState(state: Object)")])])]),t._v(" "),e("p",[t._v("替换 store 的根状态，仅用状态合并或时光旅行调试。")]),t._v(" "),e("h3",{attrs:{id:"watch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[t._v("#")]),t._v(" watch")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("watch(fn: Function, callback: Function, options?: Object): Function")])])]),t._v(" "),e("p",[t._v("响应式地侦听 "),e("code",[t._v("fn")]),t._v(" 的返回值，当值改变时调用回调函数。"),e("code",[t._v("fn")]),t._v(" 接收 store 的 state 作为第一个参数，其 getter 作为第二个参数。最后接收一个可选的对象参数表示 Vue 的 "),e("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#vm-watch",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("vm.$watch")]),e("OutboundLink")],1),t._v(" 方法的参数。")]),t._v(" "),e("p",[t._v("要停止侦听，调用此方法返回的函数即可停止侦听。")]),t._v(" "),e("h3",{attrs:{id:"subscribe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#subscribe"}},[t._v("#")]),t._v(" subscribe")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("subscribe(handler: Function): Function")])]),t._v(" "),e("p",[t._v("订阅 store 的 mutation。"),e("code",[t._v("handler")]),t._v(" 会在每个 mutation 完成后调用，接收 mutation 和经过 mutation 后的状态作为参数：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("mutation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mutation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mutation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])])]),t._v(" "),e("p",[t._v("要停止订阅，调用此方法返回的函数即可停止订阅。")]),t._v(" "),e("p",[t._v("通常用于插件。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/plugins.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"subscribeaction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#subscribeaction"}},[t._v("#")]),t._v(" subscribeAction")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("subscribeAction(handler: Function): Function")])]),t._v(" "),e("blockquote",[e("p",[t._v("2.5.0 新增")])]),t._v(" "),e("p",[t._v("订阅 store 的 action。"),e("code",[t._v("handler")]),t._v(" 会在每个 action 分发的时候调用并接收 action 描述和当前的 store 的 state 这两个参数：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribeAction")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("要停止订阅，调用此方法返回的函数即可停止订阅。")]),t._v(" "),e("blockquote",[e("p",[t._v("3.1.0 新增")])]),t._v(" "),e("p",[t._v("从 3.1.0 起，"),e("code",[t._v("subscribeAction")]),t._v(" 也可以指定订阅处理函数的被调用时机应该在一个 action 分发"),e("em",[t._v("之前")]),t._v("还是"),e("em",[t._v("之后")]),t._v(" (默认行为是"),e("em",[t._v("之前")]),t._v(")：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribeAction")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("before")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("before action ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("after")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("after action ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("该功能常用于插件。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/plugins.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"registermodule"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#registermodule"}},[t._v("#")]),t._v(" registerModule")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("registerModule(path: string | Array<string>, module: Module, options?: Object)")])]),t._v(" "),e("p",[t._v("注册一个动态模块。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E6%A8%A1%E5%9D%97%E5%8A%A8%E6%80%81%E6%B3%A8%E5%86%8C",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("code",[t._v("options")]),t._v(" 可以包含 "),e("code",[t._v("preserveState: true")]),t._v(" 以允许保留之前的 state。用于服务端渲染。")])])]),t._v(" "),e("h3",{attrs:{id:"unregistermodule"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unregistermodule"}},[t._v("#")]),t._v(" unregisterModule")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("unregisterModule(path: string | Array<string>)")])]),t._v(" "),e("p",[t._v("卸载一个动态模块。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E6%A8%A1%E5%9D%97%E5%8A%A8%E6%80%81%E6%B3%A8%E5%86%8C",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"hotupdate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hotupdate"}},[t._v("#")]),t._v(" hotUpdate")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("hotUpdate(newOptions: Object)")])]),t._v(" "),e("p",[t._v("热替换新的 action 和 mutation。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/hot-reload.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h2",{attrs:{id:"组件绑定的辅助函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组件绑定的辅助函数"}},[t._v("#")]),t._v(" 组件绑定的辅助函数")]),t._v(" "),e("h3",{attrs:{id:"mapstate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapstate"}},[t._v("#")]),t._v(" mapState")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("mapState(namespace?: string, map: Array<string> | Object<string | function>): Object")])]),t._v(" "),e("p",[t._v("为组件创建计算属性以返回 Vuex store 中的状态。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/state.html#mapstate-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("第一个参数是可选的，可以是一个命名空间字符串。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("对象形式的第二个参数的成员可以是一个函数。"),e("code",[t._v("function(state: any)")])])])]),t._v(" "),e("h3",{attrs:{id:"mapgetters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapgetters"}},[t._v("#")]),t._v(" mapGetters")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("mapGetters(namespace?: string, map: Array<string> | Object<string>): Object")])]),t._v(" "),e("p",[t._v("为组件创建计算属性以返回 getter 的返回值。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/getters.html#mapgetters-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("第一个参数是可选的，可以是一个命名空间字符串。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])]),t._v(" "),e("h3",{attrs:{id:"mapactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapactions"}},[t._v("#")]),t._v(" mapActions")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("mapActions(namespace?: string, map: Array<string> | Object<string | function>): Object")])]),t._v(" "),e("p",[t._v("创建组件方法分发 action。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/actions.html#%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E5%88%86%E5%8F%91-action",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("第一个参数是可选的，可以是一个命名空间字符串。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("对象形式的第二个参数的成员可以是一个函数。"),e("code",[t._v("function(dispatch: function, ...args: any[])")])])])]),t._v(" "),e("h3",{attrs:{id:"mapmutations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapmutations"}},[t._v("#")]),t._v(" mapMutations")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("mapMutations(namespace?: string, map: Array<string> | Object<string | function>): Object")])]),t._v(" "),e("p",[t._v("创建组件方法提交 mutation。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/mutations.html#%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E6%8F%90%E4%BA%A4-mutation",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("第一个参数是可选的，可以是一个命名空间字符串。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("对象形式的第二个参数的成员可以是一个函数。"),e("code",[t._v("function(commit: function, ...args: any[])")])])])]),t._v(" "),e("h3",{attrs:{id:"createnamespacedhelpers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#createnamespacedhelpers"}},[t._v("#")]),t._v(" createNamespacedHelpers")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("createNamespacedHelpers(namespace: string): Object")])]),t._v(" "),e("p",[t._v("创建基于命名空间的组件绑定辅助函数。其返回一个包含 "),e("code",[t._v("mapState")]),t._v("、"),e("code",[t._v("mapGetters")]),t._v("、"),e("code",[t._v("mapActions")]),t._v(" 和 "),e("code",[t._v("mapMutations")]),t._v(" 的对象。它们都已经绑定在了给定的命名空间上。"),e("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/modules.html#%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细介绍"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);s.default=n.exports}}]);