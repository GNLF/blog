(window.webpackJsonp=window.webpackJsonp||[]).push([[415],{268:function(e,t,r){"use strict";r.r(t);var n=r(17),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"component构造器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#component构造器"}},[e._v("#")]),e._v(" Component构造器")]),e._v(" "),r("h2",{attrs:{id:"定义段与示例方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#定义段与示例方法"}},[e._v("#")]),e._v(" 定义段与示例方法")]),e._v(" "),r("p",[e._v("Component构造器可用于定义组件，调用Component构造器时可以指定组件的属性、数据、方法等。")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("定义段")]),e._v(" "),r("th",[e._v("类型")]),e._v(" "),r("th",[e._v("是否必填")]),e._v(" "),r("th",[e._v("描述")]),e._v(" "),r("th",[e._v("最低版本")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("properties")]),e._v(" "),r("td",[e._v("Object Map")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件的对外属性，是属性名到属性设置的映射表，属性设置中可包含三个字段， "),r("code",[e._v("type")]),e._v(" 表示属性类型、 "),r("code",[e._v("value")]),e._v(" 表示属性初始值、 "),r("code",[e._v("observer")]),e._v(" 表示属性值被更改时的响应函数")]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("data")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件的内部数据，和 "),r("code",[e._v("properties")]),e._v(" 一同用于组件的模板渲染")]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("observers")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件数据字段监听器，用于监听 properties 和 data 的变化，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("数据监听器"),r("OutboundLink")],1)]),e._v(" "),r("td",[r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.6.1"),r("OutboundLink")],1)])]),e._v(" "),r("tr",[r("td",[e._v("methods")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件的方法，包括事件响应函数和任意的自定义方法，关于事件响应函数的使用，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件事件"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("behaviors")]),e._v(" "),r("td",[e._v("String Array")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("类似于mixins和traits的组件间代码复用机制，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/behaviors.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("behaviors"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("created")]),e._v(" "),r("td",[e._v("Function")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件生命周期函数，在组件实例刚刚被创建时执行，注意此时不能调用 "),r("code",[e._v("setData")]),e._v(" ，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("attached")]),e._v(" "),r("td",[e._v("Function")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件生命周期函数，在组件实例进入页面节点树时执行，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("ready")]),e._v(" "),r("td",[e._v("Function")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件生命周期函数，在组件布局完成后执行，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("moved")]),e._v(" "),r("td",[e._v("Function")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件生命周期函数，在组件实例被移动到节点树另一个位置时执行，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("detached")]),e._v(" "),r("td",[e._v("Function")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件生命周期函数，在组件实例被从页面节点树移除时执行，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("relations")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件间关系定义，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/relations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件间关系"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("externalClasses")]),e._v(" "),r("td",[e._v("String Array")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件接受的外部样式类，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("外部样式类"),r("OutboundLink")],1)]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("options")]),e._v(" "),r("td",[e._v("Object Map")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("一些选项（文档中介绍相关特性时会涉及具体的选项设置，这里暂不列举）")]),e._v(" "),r("td")]),e._v(" "),r("tr",[r("td",[e._v("lifetimes")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件生命周期声明对象，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td",[r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.2.3"),r("OutboundLink")],1)])]),e._v(" "),r("tr",[r("td",[e._v("pageLifetimes")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("组件所在页面的生命周期声明对象，支持页面的 "),r("code",[e._v("show")]),e._v(" 、 "),r("code",[e._v("hide")]),e._v(" 等生命周期，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件生命周期"),r("OutboundLink")],1)]),e._v(" "),r("td",[r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.2.3"),r("OutboundLink")],1)])]),e._v(" "),r("tr",[r("td",[e._v("definitionFilter")]),e._v(" "),r("td",[e._v("Function")]),e._v(" "),r("td",[e._v("否")]),e._v(" "),r("td",[e._v("定义段过滤器，用于自定义组件扩展，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/extend.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义组件扩展"),r("OutboundLink")],1)]),e._v(" "),r("td",[r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.2.3"),r("OutboundLink")],1)])])])]),e._v(" "),r("p",[e._v("生成的组件实例可以在组件的方法、生命周期函数和属性 "),r("code",[e._v("observer")]),e._v(" 中通过 "),r("code",[e._v("this")]),e._v(" 访问。组件包含一些通用属性和方法。")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("属性名")]),e._v(" "),r("th",[e._v("类型")]),e._v(" "),r("th",[e._v("描述")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("is")]),e._v(" "),r("td",[e._v("String")]),e._v(" "),r("td",[e._v("组件的文件路径")])]),e._v(" "),r("tr",[r("td",[e._v("id")]),e._v(" "),r("td",[e._v("String")]),e._v(" "),r("td",[e._v("节点id")])]),e._v(" "),r("tr",[r("td",[e._v("dataset")]),e._v(" "),r("td",[e._v("String")]),e._v(" "),r("td",[e._v("节点dataset")])]),e._v(" "),r("tr",[r("td",[e._v("data")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("组件数据，"),r("strong",[e._v("包括内部数据和属性值")])])]),e._v(" "),r("tr",[r("td",[e._v("properties")]),e._v(" "),r("td",[e._v("Object")]),e._v(" "),r("td",[e._v("组件数据，"),r("strong",[e._v("包括内部数据和属性值")]),e._v("（与 "),r("code",[e._v("data")]),e._v(" 一致）")])])])]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("方法名")]),e._v(" "),r("th",[e._v("参数")]),e._v(" "),r("th",[e._v("描述")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("setData")]),e._v(" "),r("td",[e._v("Object "),r("code",[e._v("newData")])]),e._v(" "),r("td",[e._v("设置data并执行视图层渲染")])]),e._v(" "),r("tr",[r("td",[e._v("hasBehavior")]),e._v(" "),r("td",[e._v("Object "),r("code",[e._v("behavior")])]),e._v(" "),r("td",[e._v("检查组件是否具有 "),r("code",[e._v("behavior")]),e._v(" （检查时会递归检查被直接或间接引入的所有behavior）")])]),e._v(" "),r("tr",[r("td",[e._v("triggerEvent")]),e._v(" "),r("td",[e._v("String "),r("code",[e._v("name")]),e._v(", Object "),r("code",[e._v("detail")]),e._v(", Object "),r("code",[e._v("options")])]),e._v(" "),r("td",[e._v("触发事件，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件事件"),r("OutboundLink")],1)])]),e._v(" "),r("tr",[r("td",[e._v("createSelectorQuery")]),e._v(" "),r("td"),e._v(" "),r("td",[e._v("创建一个 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/SelectorQuery.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("SelectorQuery"),r("OutboundLink")],1),e._v(" 对象，选择器选取范围为这个组件实例内")])]),e._v(" "),r("tr",[r("td",[e._v("createIntersectionObserver")]),e._v(" "),r("td"),e._v(" "),r("td",[e._v("创建一个 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/IntersectionObserver.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("IntersectionObserver"),r("OutboundLink")],1),e._v(" 对象，选择器选取范围为这个组件实例内")])]),e._v(" "),r("tr",[r("td",[e._v("selectComponent")]),e._v(" "),r("td",[e._v("String "),r("code",[e._v("selector")])]),e._v(" "),r("td",[e._v("使用选择器选择组件实例节点，返回匹配到的第一个组件实例对象（会被 "),r("code",[e._v("wx://component-export")]),e._v(" 影响）")])]),e._v(" "),r("tr",[r("td",[e._v("selectAllComponents")]),e._v(" "),r("td",[e._v("String "),r("code",[e._v("selector")])]),e._v(" "),r("td",[e._v("使用选择器选择组件实例节点，返回匹配到的全部组件实例对象组成的数组")])]),e._v(" "),r("tr",[r("td",[e._v("getRelationNodes")]),e._v(" "),r("td",[e._v("String "),r("code",[e._v("relationKey")])]),e._v(" "),r("td",[e._v("获取这个关系所对应的所有关联节点，参见 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/relations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件间关系"),r("OutboundLink")],1)])]),e._v(" "),r("tr",[r("td",[e._v("groupSetData")]),e._v(" "),r("td",[e._v("Function "),r("code",[e._v("callback")])]),e._v(" "),r("td",[e._v("立刻执行 "),r("code",[e._v("callback")]),e._v(" ，其中的多个 "),r("code",[e._v("setData")]),e._v(" 之间不会触发界面绘制（只有某些特殊场景中需要，如用于在不同组件同时 setData 时进行界面绘制同步）")])])])]),e._v(" "),r("p",[r("strong",[e._v("代码示例：")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://developers.weixin.qq.com/s/GqVTnvmq7g1m",target:"_blank",rel:"noopener noreferrer"}},[e._v("在开发者工具中预览效果"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("Component({\n\n  behaviors: [],\n\n  properties: {\n    myProperty: { // 属性名\n      type: String, // 类型（必填），目前接受的类型包括：String, Number, Boolean, Object, Array, null（表示任意类型）\n      value: '', // 属性初始值（可选），如果未指定则会根据类型选择一个\n      observer(newVal, oldVal, changedPath) {\n        // 属性被改变时执行的函数（可选），通常 newVal 就是新设置的数据， oldVal 是旧数\n        // 新版本基础库不推荐使用这个字段，而是使用 Component 构造器的 observer 字段代替（这样会有更强的功能和更好的性能）\n      }\n    },\n    myProperty2: String // 简化的定义方式\n  },\n  data: {}, // 私有数据，可用于模板渲染\n\n  lifetimes: {\n    // 生命周期函数，可以为函数，或一个在methods段中定义的方法名\n    attached() { },\n    moved() { },\n    detached() { },\n  },\n\n  // 生命周期函数，可以为函数，或一个在methods段中定义的方法名\n  attached() { }, // 此处attached的声明会被lifetimes字段中的声明覆盖\n  ready() { },\n\n  pageLifetimes: {\n    // 组件所在页面的生命周期函数\n    show() { },\n    hide() { },\n    resize() { },\n  },\n\n  methods: {\n    onMyButtonTap() {\n      this.setData({\n        // 更新属性和数据的方法与更新页面数据的方法类似\n      })\n    },\n    // 内部方法建议以下划线开头\n    _myPrivateMethod() {\n      // 这里将 data.A[0].B 设为 'myPrivateData'\n      this.setData({\n        'A[0].B': 'myPrivateData'\n      })\n    },\n    _propertyChange(newVal, oldVal) {\n\n    }\n  }\n\n})\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br"),r("span",{staticClass:"line-number"},[e._v("16")]),r("br"),r("span",{staticClass:"line-number"},[e._v("17")]),r("br"),r("span",{staticClass:"line-number"},[e._v("18")]),r("br"),r("span",{staticClass:"line-number"},[e._v("19")]),r("br"),r("span",{staticClass:"line-number"},[e._v("20")]),r("br"),r("span",{staticClass:"line-number"},[e._v("21")]),r("br"),r("span",{staticClass:"line-number"},[e._v("22")]),r("br"),r("span",{staticClass:"line-number"},[e._v("23")]),r("br"),r("span",{staticClass:"line-number"},[e._v("24")]),r("br"),r("span",{staticClass:"line-number"},[e._v("25")]),r("br"),r("span",{staticClass:"line-number"},[e._v("26")]),r("br"),r("span",{staticClass:"line-number"},[e._v("27")]),r("br"),r("span",{staticClass:"line-number"},[e._v("28")]),r("br"),r("span",{staticClass:"line-number"},[e._v("29")]),r("br"),r("span",{staticClass:"line-number"},[e._v("30")]),r("br"),r("span",{staticClass:"line-number"},[e._v("31")]),r("br"),r("span",{staticClass:"line-number"},[e._v("32")]),r("br"),r("span",{staticClass:"line-number"},[e._v("33")]),r("br"),r("span",{staticClass:"line-number"},[e._v("34")]),r("br"),r("span",{staticClass:"line-number"},[e._v("35")]),r("br"),r("span",{staticClass:"line-number"},[e._v("36")]),r("br"),r("span",{staticClass:"line-number"},[e._v("37")]),r("br"),r("span",{staticClass:"line-number"},[e._v("38")]),r("br"),r("span",{staticClass:"line-number"},[e._v("39")]),r("br"),r("span",{staticClass:"line-number"},[e._v("40")]),r("br"),r("span",{staticClass:"line-number"},[e._v("41")]),r("br"),r("span",{staticClass:"line-number"},[e._v("42")]),r("br"),r("span",{staticClass:"line-number"},[e._v("43")]),r("br"),r("span",{staticClass:"line-number"},[e._v("44")]),r("br"),r("span",{staticClass:"line-number"},[e._v("45")]),r("br"),r("span",{staticClass:"line-number"},[e._v("46")]),r("br"),r("span",{staticClass:"line-number"},[e._v("47")]),r("br"),r("span",{staticClass:"line-number"},[e._v("48")]),r("br"),r("span",{staticClass:"line-number"},[e._v("49")]),r("br"),r("span",{staticClass:"line-number"},[e._v("50")]),r("br"),r("span",{staticClass:"line-number"},[e._v("51")]),r("br"),r("span",{staticClass:"line-number"},[e._v("52")]),r("br"),r("span",{staticClass:"line-number"},[e._v("53")]),r("br"),r("span",{staticClass:"line-number"},[e._v("54")]),r("br")])]),r("p",[e._v("注意：在 "),r("code",[e._v("properties")]),e._v(" 定义段中，属性名采用驼峰写法（"),r("code",[e._v("propertyName")]),e._v("）；在 "),r("code",[e._v("wxml")]),e._v(" 中，指定属性值时则对应使用连字符写法（"),r("code",[e._v('component-tag-name property-name="attr value"')]),e._v("），应用于数据绑定时采用驼峰写法（"),r("code",[e._v('attr="'+e._s(e.propertyName)+'"')]),e._v("）。")]),e._v(" "),r("h2",{attrs:{id:"使用-component-构造器构造页面"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用-component-构造器构造页面"}},[e._v("#")]),e._v(" 使用 Component 构造器构造页面")]),e._v(" "),r("p",[e._v("事实上，小程序的页面也可以视为自定义组件。因而，页面也可以使用 "),r("code",[e._v("Component")]),e._v(" 构造器构造，拥有与普通组件一样的定义段与实例方法。但此时要求对应 json 文件中包含 "),r("code",[e._v("usingComponents")]),e._v(" 定义段。")]),e._v(" "),r("p",[e._v("此时，组件的属性可以用于接收页面的参数，如访问页面 "),r("code",[e._v("/pages/index/index?paramA=123&paramB=xyz")]),e._v(" ，如果声明有属性 "),r("code",[e._v("paramA")]),e._v(" 或 "),r("code",[e._v("paramB")]),e._v(" ，则它们会被赋值为 "),r("code",[e._v("123")]),e._v(" 或 "),r("code",[e._v("xyz")]),e._v(" 。")]),e._v(" "),r("p",[e._v("页面的生命周期方法（即 "),r("code",[e._v("on")]),e._v(" 开头的方法），应写在 "),r("code",[e._v("methods")]),e._v(" 定义段中。")]),e._v(" "),r("p",[r("strong",[e._v("代码示例：")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('{\n  "usingComponents": {}\n}\nComponent({\n\n  properties: {\n    paramA: Number,\n    paramB: String,\n  },\n\n  methods: {\n    onLoad() {\n      this.data.paramA // 页面参数 paramA 的值\n      this.data.paramB // 页面参数 paramB 的值\n    }\n  }\n\n})\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br"),r("span",{staticClass:"line-number"},[e._v("16")]),r("br"),r("span",{staticClass:"line-number"},[e._v("17")]),r("br"),r("span",{staticClass:"line-number"},[e._v("18")]),r("br")])]),r("h4",{attrs:{id:"bug-tips"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-tips"}},[e._v("#")]),e._v(" Bug & Tips:")]),e._v(" "),r("ul",[r("li",[e._v("使用 "),r("code",[e._v("this.data")]),e._v(" 可以获取内部数据和属性值，但不要直接修改它们，应使用 "),r("code",[e._v("setData")]),e._v(" 修改。")]),e._v(" "),r("li",[e._v("生命周期函数无法在组件方法中通过 "),r("code",[e._v("this")]),e._v(" 访问到。")]),e._v(" "),r("li",[e._v("属性名应避免以 data 开头，即不要命名成 "),r("code",[e._v("dataXyz")]),e._v(" 这样的形式，因为在 WXML 中， "),r("code",[e._v('data-xyz=""')]),e._v(" 会被作为节点 dataset 来处理，而不是组件属性。")]),e._v(" "),r("li",[e._v("在一个组件的定义和使用时，组件的属性名和 data 字段相互间都不能冲突（尽管它们位于不同的定义段中）。")]),e._v(" "),r("li",[e._v("从基础库 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.0.9"),r("OutboundLink")],1),e._v(" 开始，对象类型的属性和 data 字段中可以包含函数类型的子字段，即可以通过对象类型的属性字段来传递函数。低于这一版本的基础库不支持这一特性。")]),e._v(" "),r("li",[r("code",[e._v("bug")]),e._v(" : 对于 type 为 Object 或 Array 的属性，如果通过该组件自身的 this.setData 来改变属性值的一个子字段，则依旧会触发属性 observer ，且 observer 接收到的 "),r("code",[e._v("newVal")]),e._v(" 是变化的那个子字段的值， "),r("code",[e._v("oldVal")]),e._v(" 为空， "),r("code",[e._v("changedPath")]),e._v(" 包含子字段的字段名相关信息。")]),e._v(" "),r("li",[r("code",[e._v("bug")]),e._v(" : 位于 slot 中的自定义组件没有触发 "),r("code",[e._v("pageLifetimes")]),e._v(" 中声明的页面生命周期，此问题会在 "),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.5.3"),r("OutboundLink")],1),e._v(" 中修复。")])])])}),[],!1,null,null,null);t.default=a.exports}}]);