(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{700:function(t,e,l){"use strict";l.r(e);var a=l(17),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"restful-api-的响应"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#restful-api-的响应"}},[t._v("#")]),t._v(" RESTful API 的响应")]),t._v(" "),l("p",[t._v("服务器返回的数据格式，应该尽量使用JSON。")]),t._v(" "),l("h2",{attrs:{id:"状态码（status-codes）"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#状态码（status-codes）"}},[t._v("#")]),t._v(" 状态码（Status Codes）")]),t._v(" "),l("p",[t._v("服务器向用户返回的状态码和提示信息，常见的有以下一些（方括号中是该状态码对应的HTTP动词）。")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("状态码")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("短语")]),t._v(" "),l("th",[t._v("描述")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("200")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("OK")]),t._v(" "),l("td",[t._v("[GET]：服务器成功返回用户请求的数据，该操作是幂等的（Idempotent）。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("201")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("CREATED")]),t._v(" "),l("td",[t._v("[POST/PUT/PATCH]：用户新建或修改数据成功。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("202")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Accepted")]),t._v(" "),l("td",[t._v("[*]：表示一个请求已经进入后台排队（异步任务）")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("204")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("NO CONTENT")]),t._v(" "),l("td",[t._v("[DELETE]：用户删除数据成功。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("400")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("INVALID REQUEST")]),t._v(" "),l("td",[t._v("[POST/PUT/PATCH]：用户发出的请求有错误，服务器没有进行新建或修改数据的操作，该操作是幂等的。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("401")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Unauthorized")]),t._v(" "),l("td",[t._v("[*]：表示用户没有权限（令牌、用户名、密码错误）。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("403")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Forbidden")]),t._v(" "),l("td",[t._v("[*] 表示用户得到授权（与401错误相对），但是访问是被禁止的。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("404")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("NOT FOUND")]),t._v(" "),l("td",[t._v("[*]：用户发出的请求针对的是不存在的记录，服务器没有进行操作，该操作是幂等的。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("406")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Not Acceptable")]),t._v(" "),l("td",[t._v("[GET]：用户请求的格式不可得（比如用户请求JSON格式，但是只有XML格式）。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("410")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Gone")]),t._v(" "),l("td",[t._v("[GET]：用户请求的资源被永久删除，且不会再得到的。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("422")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Unprocesable entity")]),t._v(" "),l("td",[t._v("[POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误。")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("500")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("INTERNAL SERVER ERROR")]),t._v(" "),l("td",[t._v("[*]：服务器发生错误，用户将无法判断发出的请求是否成功。")])])])]),t._v(" "),l("h2",{attrs:{id:"返回数据"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#返回数据"}},[t._v("#")]),t._v(" 返回数据")]),t._v(" "),l("p",[t._v("针对不同操作，服务器向用户返回的结果应该符合以下规范：")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("请求方式")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("请求地址")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("/collections")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("返回资源对象列表 (数组)")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("/collections/identity")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("返回单个资源对象")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("/collections")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("返回新生成的资源对象")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("PUT")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("/collections/identity")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("返回完整的资源对象")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("PATCH")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("/collections/identity")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("返回被修改的属性")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("DELETE")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("/collections/identity")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("返回一个空文档")])])])])])}),[],!1,null,null,null);e.default=v.exports}}]);