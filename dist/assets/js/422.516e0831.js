(window.webpackJsonp=window.webpackJsonp||[]).push([[422],{261:function(r,e,t){"use strict";t.r(e);var a=t(17),n=Object(a.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"开发第三方自定义组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发第三方自定义组件"}},[r._v("#")]),r._v(" 开发第三方自定义组件")]),r._v(" "),t("p",[r._v("小程序从基础库版本 "),t("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("2.2.1"),t("OutboundLink")],1),r._v(" 开始支持使用 npm 安装第三方包，因此也支持开发和使用第三方自定义组件包。关于 npm 功能的详情可先阅读"),t("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/npm.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("相关文档"),t("OutboundLink")],1),r._v("。")]),r._v(" "),t("h2",{attrs:{id:"准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[r._v("#")]),r._v(" 准备")]),r._v(" "),t("p",[r._v("开发一个开源的自定义组件包给他人使用，首先需要明确他人是要如何使用这个包的，如果只是拷贝小程序目录下直接使用的话，可以跳过此文档。此文档中后续内容是以 npm 管理自定义组件包的前提下进行说明的。")]),r._v(" "),t("p",[r._v("在开发之前，要求开发者具有基础的 node.js 和 npm 相关的知识，同时需要准备好支持 npm 功能的开发者工具，"),t("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("点此下载"),t("OutboundLink")],1),r._v("。")]),r._v(" "),t("h2",{attrs:{id:"下载模板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载模板"}},[r._v("#")]),r._v(" 下载模板")]),r._v(" "),t("p",[r._v("为了方便开发者能够快速搭建好一个可用于开发、调试、测试的自定义组件包项目，官方提供了一个"),t("a",{attrs:{href:"https://github.com/wechat-miniprogram/miniprogram-custom-component",target:"_blank",rel:"noopener noreferrer"}},[r._v("项目模板"),t("OutboundLink")],1),r._v("，下载使用模板的方式有三种：")]),r._v(" "),t("ul",[t("li",[r._v("直接从 github 上下载 zip 文件并解压。")]),r._v(" "),t("li",[r._v("直接将 github 上的仓库 clone 下来。")]),r._v(" "),t("li",[r._v("使用官方提供的命令行工具初始化项目，下面会进行介绍。")])]),r._v(" "),t("p",[r._v("项目模板中的构建是基于 gulp + webpack 来执行的，支持开发、构建、测试等命令，详情可参阅项目模板的 "),t("a",{attrs:{href:"https://github.com/wechat-miniprogram/miniprogram-custom-component/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[r._v("README.md"),t("OutboundLink")],1),r._v(" 文件。")]),r._v(" "),t("h2",{attrs:{id:"命令行工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行工具"}},[r._v("#")]),r._v(" 命令行工具")]),r._v(" "),t("p",[r._v("官方提供了"),t("a",{attrs:{href:"https://github.com/wechat-miniprogram/miniprogram-cli",target:"_blank",rel:"noopener noreferrer"}},[r._v("命令行工具"),t("OutboundLink")],1),r._v("，用于快速初始化一个项目。执行如下命令安装命令行工具：")]),r._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("npm install -g @wechat-miniprogram/miniprogram-cli\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("p",[r._v("然后新建一个空目录作为项目根目录，在此根目录下执行：")]),r._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("miniprogram init --type custom-component\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("p",[r._v("命令执行完毕后会发现项目根目录下生成了许多文件，这是根据官方的"),t("a",{attrs:{href:"https://github.com/wechat-miniprogram/miniprogram-custom-component",target:"_blank",rel:"noopener noreferrer"}},[r._v("项目模板"),t("OutboundLink")],1),r._v("生成的完整项目，之后开发者可直接在此之上进行开发修改。")]),r._v(" "),t("p",[r._v("命令行工具的更多用法可以查看 github 仓库上的 "),t("a",{attrs:{href:"https://github.com/wechat-miniprogram/miniprogram-cli/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[r._v("README.md"),t("OutboundLink")],1),r._v(" 文件。")]),r._v(" "),t("blockquote",[t("p",[r._v("PS：第一次使用 "),t("code",[r._v("miniprogram init")]),r._v(" 初始化项目会去 github 上拉取模板，因此需要保证网络畅通。")])]),r._v(" "),t("h2",{attrs:{id:"测试工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试工具"}},[r._v("#")]),r._v(" 测试工具")]),r._v(" "),t("p",[r._v("针对自定义组件的单元测试，可参阅文档"),t("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/unit-test.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("单元测试"),t("OutboundLink")],1),r._v("。")]),r._v(" "),t("h2",{attrs:{id:"自定义组件示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件示例"}},[r._v("#")]),r._v(" 自定义组件示例")]),r._v(" "),t("p",[r._v("以下为官方提供的自定义组件，可以参考并使用：")]),r._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/wechat-miniprogram/slide-view",target:"_blank",rel:"noopener noreferrer"}},[r._v("slide-view"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/wechat-miniprogram/navigation-bar",target:"_blank",rel:"noopener noreferrer"}},[r._v("navigation-bar"),t("OutboundLink")],1)]),r._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/wechat-miniprogram/recycle-view",target:"_blank",rel:"noopener noreferrer"}},[r._v("recycle-view"),t("OutboundLink")],1)])]),r._v(" "),t("h2",{attrs:{id:"自定义组件扩展示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件扩展示例"}},[r._v("#")]),r._v(" 自定义组件扩展示例")]),r._v(" "),t("p",[r._v("以下为官方提供的自定义组件扩展，可以参考并使用：")]),r._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/wechat-miniprogram/computed",target:"_blank",rel:"noopener noreferrer"}},[r._v("computed"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);