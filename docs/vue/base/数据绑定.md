# 数据绑定

> **数据绑定** 是将数据和视图相关联，当数据发生变化时，可以自动更新视图。

Vue.js 使用了基于 HTML 的模板语法，允许开发者声明式地将 DOM 绑定至底层 Vue 实例的数据。

在底层的实现上，Vue 将模板编译成虚拟 DOM 渲染函数。结合响应系统，Vue 能够智能地计算出最少需要重新渲染多少组件，并把 DOM 操作次数减到最少。

当一个 Vue 实例被创建时，它将 data 对象中的所有的属性加入到 Vue 的响应式系统中。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。 那么如何将数据与模板进行绑定？

## 插值

**插值** 是Vue用来实现使用数据绑定的一种方式,在Vue中常用的方式如下:

### 文本插值

Mustache语法 使用"Mustache"语法（双括号 {{keyName}} 语法，直接输出与键名匹配的键值），实现文本插值对数据的基本绑定。

```
{{msg}}
```

Mustache 标签将会被替代为对应数据对象上 msg 属性的值。无论何时，绑定的数据对象上 msg 属性发生了改变，插值处的内容都会更新。

通过使用 v-once 指令，你也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但请留心这会影响到该节点上所有的数据绑定：

```js
<span v-once>这个将不会改变: {{ message }}</span>
```

### HTML插值

双大括号会将数据解释为纯文本，而非 HTML 。为了输出真正的 HTML ，需要使用 `v-html` 指令：

```html
<div id="app" v-html="message"></div>
new Vue({
    el:'#app',
    data:{
        message:'<p> 这段内容是包含在P标签中的！ </p>'
    }
})
```



## 使用 JavaScript 表达式

在模板中，除了完成数据绑定，Vue.js 都提供了JavaScript 表达式的支持，但不支持语句和流控制。

表达式是各种数值、变量、运算符的综合体

```
// 运算符
{{ message + 'vue is awesome' }}
{{ cents/100 }}
{{ true?1:0 }}

// 方法调用
{{ message.split('').reverse().join('') }}
{{ example.split(",") }}
```

允许使用过滤器，允许过滤器串联，还支持传入参数

```
{{ example | toUpperCase }}
{{ example | filterA | filterB }}
{{ example | filter a b }}
```

无效示例，不支持语句和流控制

```
{{ var logo= 'logo.png' }}
{{ if(true) return 'hello' }}
```

这些表达式会在所属 Vue 实例的数据作用域下作为 JavaScript 被解析。有个限制就是，每个绑定都只能包含单个表达式，所以下面的例子都不会生效。

```
//这句是语句不是表达式
{{var a = 1}}

//流控制也不会生效，请使用三元表达式
{{if(ok){return message}}}
```

> 模板表达式都被放在沙盒中，只能访问全局变量的一个白名单，如 Math 和 Date 。你不应该在模板表达式中试图访问用户定义的全局变量。


  