# 嵌套路由

在实际开发中，通常由多层嵌套的组件组合而成

嵌套路由是个常见的需求，假设用户能够通过路径/home/news和/home/message访问一些内容，一个路径映射一个组件，访问这两个路径也会分别渲染两个组件。

## 路由嵌套

实现嵌套路由有两个要点：

在组件内部使用标签
在路由器对象中给组件定义子路由

### 组件内部使用标签

```html
<template id="home">
    <div>
        <h1>动态路由1{{$route.params.id}}</h1>
        <router-link to="/home/news">child1</router-link>
        <router-link to="/home/message">child2</router-link>
        <router-view></router-view>
    </div>
</template>
```

当调用该组件时，会显示组件当中的 `<router-link>`。

点击组件内的`<router-link>`会将路由匹配到的组件渲染到 `<router-view>`中

### 在路由器对象中给组件定义子路由

```js
const router = new VueRouter({
    routes:[
        {
            path: '/home',
            component: { template: '#home' } ,
            children:[
                {
                    // 当 /home/news 匹配成功，
                    // <h3>news</h3> 会被渲染在 #home 的 <router-view> 中
                    path: 'news',
                    component: { template: '<h3>news</h3>' }
                },
                {

                    path: 'message',
                    component: { template: '<h3>message</h3>' }
                }
            ]
        },
        {
            path: '/about',
            component: { template: '#about' }
        }
    ]
})
```

在 /home 路由下定义了一个 children 选项，/news 和 /message 是两条子路由，它们分别表示路径 /home/news 和 /home/message ，这两条路由分别映射组件 `<h3>`news`</h3>` 和 `<h3>`message`</h3>` 。

要注意，以 / 开头的嵌套路径会被当作根路径。 这让你充分的使用嵌套组件而无须设置嵌套的路径。

此时，基于上面的配置，当你访问 /home 时，#home 的出口是不会渲染任何东西，这是因为没有匹配到合适的子路由。如果你想要渲染点什么，可以提供一个 空的 子路由：

```html
<script>
const router = new VueRouter({
    routes:[
        {
            path: '/home',
            component: { template: '#home' } ,
            children:[
                {
                    // 当 /home 匹配成功，
                    // <h3>news</h3> 会被渲染在 #home 的 <router-view> 中
                    path: '',
                    component: { template: '<h3>news</h3>' }
                },
                //  ...其他子路有
    ]

})
</script>
<div>
    <p>当前路径：{{$route.path}}</p>
    <p>当前参数：{{$route.params}}</p>
    <p>路由名称：{{$route.name}}</p>
    <p>路由查询参数：{{$route.query}}</p>
    <p>路由匹配项：{{$route.matched}}</p>
</div>
```
