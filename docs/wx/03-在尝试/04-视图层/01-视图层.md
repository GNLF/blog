# 视图层 View

框架的视图层由 WXML 与 WXSS 编写，由组件来进行展示。

将逻辑层的数据反应成视图，同时将视图层的事件发送给逻辑层。

WXML(WeiXin Markup language) 用于描述页面的结构。

WXS(WeiXin Script) 是小程序的一套脚本语言，结合 WXML，可以构建出页面的结构。

WXSS(WeiXin Style Sheet) 用于描述页面的样式。

组件(Component)是视图的基本组成单元。

## 组件

- 基础组件
- 自定义组件(该部分内容将在后面部分介绍)

## 基础组件

框架为开发者提供了一系列基础组件，开发者可以通过组合这些基础组件进行快速开发。

### 什么是组件？

组件是视图层的基本组成单元。 组件自带一些功能与微信风格一致的样式。 一个组件通常包括 **开始标签 和 结束标签**，**属性** 用来修饰这个组件 ，**内容** 在两个标签之内。

```
<tagname property="value">
 Content goes here ...
</tagname>
```

**注意：所有组件与属性都是小写，以连字符-连接**

##### 代码展示

```html
<!-- 该页面展示一个评分列表页面 -->
<view class="bg">
  <view class="item" wx:for="{{data}}">
    <view class="message">
      <view class="label">演讲人员：</view>
      <view class="name">{{item.user_name}}</view>
    </view>
    <view class="message">
      <view class="label">演讲题目：</view>
      <view class="name">{{item.user_speech_name}}</view>
    </view>
    <view class="message">
      <view class="label">所在小组：</view>
      <view class="name">{{item.dept_name}}</view>
    </view>
    <view class="message">
      <view class="label">评分人数：</view>
      <view class="name">{{item.n}}</view>
    </view>
    <view class="scor">
       <view class="title">比赛成绩</view>
       <view class="number">{{item.total*1}}</view>
    </view>
  </view>
</view>
Page({
  data:{
    data:[
      {user_name:'杨世杰',user_speech_name:'uek实习总结',dept_name:'第一组',n:8,total:85.125},
      {user_name:'陈浩',user_speech_name:'uek实习总结',dept_name:'第六组',n:8,total:84.625},
      {user_name:'梁亦君',user_speech_name:'uek实习总结',dept_name:'第四组',n:8,total:84.125},
    ]
  }
})
```

#### 效果展示

![排名页](amWiki/images/rank.png)

#### 代码展示

```html
<view class="group">
  <block wx:for="{{iconSize}}">
    <icon type="success" size="{{item}}" />
  </block>
</view>

<view class="group">
  <block wx:for="{{iconType}}">
    <icon type="{{item}}" size="40" />
  </block>
</view>

<view class="group">
  <block wx:for="{{iconColor}}">
    <icon type="success" size="40" color="{{item}}" />
  </block>
</view>
Page({
  data: {
    iconSize: [20, 30, 40, 50, 60, 70],
    iconColor: [
      'red', 'orange', 'yellow', 'green', 'rgb(0,255,255)', 'blue', 'purple'
    ],
    iconType: [
      'success', 'success_no_circle', 'info', 'warn', 'waiting', 'cancel', 'download', 'search', 'clear'
    ]
  }
})
```

#### 效果展示

![icon](amWiki/images/icon.png)

## 属性类型

| 类型         | 描述           | 注释                                                         |
| ------------ | -------------- | ------------------------------------------------------------ |
| Boolean      | 布尔值         | 组件写上该属性，不管是什么值都被当作 true；只有组件上没有该属性时，属性值才为false。如果属性值为变量，变量的值会被转换为Boolean类型 |
| Number       | 数字           | 1, 2.5                                                       |
| String       | 字符串         | "uek"                                                        |
| Array        | 数组           | [ 1, "string" ]                                              |
| Object       | 对象           | { key: value }                                               |
| EventHandler | 事件处理函数名 | "handlerName" 是 Page 中定义的事件处理函数名                 |
| Any          | 任意属性       |                                                              |

## 公共属性

所有组件都有以下属性：

| 属性名         | 类型         | 描述           | 注解                                     |
| -------------- | ------------ | -------------- | ---------------------------------------- |
| id             | String       | 组件的唯一标示 | 保持整个页面唯一                         |
| class          | String       | 组件的样式类   | 在对应的 WXSS 中定义的样式类             |
| style          | String       | 组件的内联样式 | 可以动态设置的内联样式                   |
| hidden         | Boolean      | 组件是否显示   | 所有组件默认显示                         |
| data-*         | Any          | 自定义属性     | 组件上触发的事件时，会发送给事件处理函数 |
| bind */ catch* | EventHandler | 组件的事件     | 详见事件                                 |

## 特殊属性

几乎所有组件都有各自定义的属性，可以对该组件的功能或样式进行修饰，请参考各个组件的定义。

## WXML

WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合基础组件、事件系统，可以构建出页面的结构。

用以下一些简单的例子来看看 WXML 具有什么能力：

- 数据绑定
- 列表渲染
- 条件渲染
- 模板
- 事件
- 引用
