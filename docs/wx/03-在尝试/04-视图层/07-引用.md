# 引用

WXML 提供两种文件引用方式import和include。

## import

import可以在该文件中使用目标文件定义的template，如：

在 item.wxml 中定义了一个叫item的template：

```html
<!-- item.wxml -->
<template name="item">
  <text>{{text}}</text>
</template>
```

在 index.wxml 中引用了 item.wxml，就可以使用item模板：

```html
<import src="item.wxml" />
<template is="item" data="{{text: 'forbar'}}" />
```

import 的作用域 import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template。

如：C import B，B import A，在C中可以使用B定义的template，在B中可以使用A定义的template，但是C不能使用A定义的template。

```html
<!-- A.wxml -->
<template name="A">
  <text>A template</text>
</template>
<!-- B.wxml -->
<import src="a.wxml" />
<template name="B">
  <text>B template</text>
</template>
<!-- C.wxml -->
<import src="b.wxml" />
<template is="A" />
<!-- Error! Can not use tempalte when not import A. -->
<template is="B" />
```

## include

include 可以将目标文件除了 template、wxs 外的整个代码引入，相当于是拷贝到 include 位置，如：

```html
<!-- index.wxml -->
<include src="header.wxml" />
<view>body</view>
<include src="footer.wxml" />
<!-- header.wxml -->
<view>header</view>
<!-- footer.wxml -->
<view>footer</view>
```

两个是不同定位, import的话只会引入模版,也即template标签包裹的内容, include的话会引入除了template的数据的页面内容, template的is属性可以动态改变,也即可以运行时变化。 include的src只能在按照初始渲染的时候的值引入页面。

## 引用

1. 在pages下创建一个文件夹test,里面包含一个test.wxml（其他文件可以不需要）；
2. test.wxml添加内容

```html
<template name="test">
     template inner
</template>
template outer
```

1. index.wxml中导入test.wxml（同一个文件可以同时被import和includes）

```html
<!-- 将test.wxml中的template中的内容到进来 -->
<import src='./test/test.wxml' />
<template is="test" />
<!-- 将test.wxml中template以外的内容导进来 -->
<include src='../test/test.wxml' />
```

当只有第一段代码时，index.wxml的内容是：

> template inner

当只有第二段代码时，index.wxml的内容是：

> template outer

两段代码都存在时，index.wxml的内容是：

> template inner template outer

## 结合使用

使用场景： 比如，你使用template自定义了一个confirm框，形如这样：

```html
<template name="confirm">
    .......
</template>
```

在页面中使用，则需要这样：

```html
<import src="tools/confirm/confirm.wxml"/>
<template is="confirm" />
```

并且，每个页面都需要引用一遍。这时候，又自定义了一个alert框，每个需要alert的页面，又都需要引用一遍alert.wxml。不仅如此，当你的小程序越来越大，自定义的模板越来越多，每个页面都是下面这种样子：







........

还有一个就是，当你改变某个自定义组件的路径，则每个页面都需要改变一次；这时候，我们可以利用include的属性







每个使用自定义组件的页面，只需要一句代码即可，





只需要固定template.wxml的位置，即便更改自定义组件的路径，在template中更改一次即可。