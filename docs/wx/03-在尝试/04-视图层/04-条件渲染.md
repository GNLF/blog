# 条件渲染

## wx:if

在框架中，使用 wx:if="{{isShow}}" 来判断是否需要渲染该代码块：

```html
<view wx:if="{{isShow}}">True</view>
```

也可以用 wx:elif 和 wx:else 来添加一个 else 块：

```html
<view wx:if="{{length > 5}}">1</view>
<view wx:elif="{{length > 2}}">2</view>
<view wx:else>3</view>
```

## block wx:if

因为 wx:if 是一个控制属性，需要将它添加到一个标签上。如果要一次性判断多个组件标签，可以使用一个 标签将多个组件包装起来，并在上边使用 wx:if 控制属性。

```html
<block wx:if="{{true}}">
  <view>view1</view>
  <view>view2</view>
</block>
```

注意： 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。

## wx:if vs hidden

因为 wx:if 之中的模板也可能包含数据绑定，所以当 wx:if 的条件值切换时，框架有一个局部渲染的过程，因为它会确保条件块在切换时销毁或重新渲染。

同时 wx:if 也是惰性的，如果在初始渲染条件为 false，框架什么也不做，在条件第一次变成真的时候才开始局部渲染。

相比之下，hidden 就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏。

一般来说，wx:if 有更高的切换消耗而 hidden 有更高的初始渲染消耗。因此，如果需要频繁切换的情景下，用 hidden 更好，如果在运行时条件不大可能改变则 wx:if 较好。

在开发过程中经常需要根据条件动态的去显示loading。

```html
  <view class='loading' wx:if="{{isShow}}">
     <view class='loadingCenter'>
         <view class='object objectOne'></view>
         <view class='object objectTwo'></view>
         <view class='object objectThree'></view>
         <view class='object objectFour'></view>
     </view>
  </view>
page {
  background: #dfdfdf;
}

.loading {
  width: 100%;
  height: 100%;
  position: fixed;
  left: 0;
  top: 0;
  z-index: 999;
}

.loadingCenter {
  width: 200rpx;
  height: 200rpx;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background: #0098ff;
}

.object {
  border-radius: 50% 50% 50% 50%;
  position: absolute;
  border-top: 5rpx solid #fff;
  border-bottom: 5rpx solid transparent;
  border-left: 5rpx solid #fff;
  border-right: 5rpx solid transparent;
  animation: animate 2s infinite;
}

.objectOne {
  left: 75rpx;
  top: 75rpx;
  width: 50rpx;
  height: 50rpx;
}

.objectTwo {
  left: 65rpx;
  top: 65rpx;
  width: 70rpx;
  height: 70rpx;
  animation-delay: 0.2s;
}

.objectThree {
  left: 55rpx;
  top: 55rpx;
  width: 90rpx;
  height: 90rpx;
  animation-delay: 0.4s;
}

.objectFour {
  left: 45rpx;
  top: 45rpx;
  width: 110rpx;
  height: 110rpx;
  animation-delay: 0.6s;
}

@keyframes animate {
  50% {
    transform: rotate(360deg) scale(0.8);
  }
}
Page({
  data:{
    isShow:true
  }
})
```

![loading](https://mp.hnz.kim/amWiki/images/views/loading.gif)


  