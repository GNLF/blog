# 函数声明与调用

## 什么是函数?

**函数**：将完成某一特定功能的代码封装起来，并且可以重复调用的代码块。

**为何使用函数？**

1. 能够对代码进行复用：只要定义一次代码，就可以多次使用它。
2. 能够多次向同一函数传递不同的参数，以产生不同的结果。
3. 使程序更加简洁、具有逻辑性、维护方便

## 函数声明方式

### function关键字

```js
function 函数名([参数1],[参数2],...[参数n]){
    函数体
    [retrun]  //返回值
}
```

### 字面量定义(匿名函数)

```js
var 变量 = function ([参数1],[参数2]....){
    函数体
    [retrun]  //返回值
}
```

### 实例化构造函数

```js
var 变量 = new Function([参数1],[参数2]...,"函数体");
```

## 函数调用方式

### 通过括号调用

用于具名函数的调用

- 函数名()
- 变量名()

```js
function fun1(){}
fun1()

var fun2 = function (){}
fun2()
```

### 自调用

用于匿名函数的调用，匿名函数还可以通引用变量来调用。

```js
//第一种
(function (){})()

//第二种
!function(){

}()

//第三种
(function(){

}())
```

> 注意： 在进行函数自调用时，上一条语句必须结尾有`;`

### 通过事件调用

```html
<script>
    function fun(){}
</script>
<div onclick="fun()"></div>
```

## 注意事项

创建/调用函数注意问题:

1. 如果两个函数的命名相同，后面的将会覆盖前面的函数。
2. 以function声明的函数可以前置调用，以字面量方式声明方式后置调用。
3. 在不同的`<script></script>`块中声明函数，声明之后块中调用。

### 问题1：函数声明覆盖

如果两个函数的命名相同，后面的将会覆盖前面的函数。

```javascript
function bb(){
    alert("这是第一个声明");
}
function bb(){
    alert("这是第二个声明");
}
bb(); //结果为  “这是第二个声明
```

### 问题2：函数调用顺序

以基本语法声明的函数，会在页面载入的时候提前解析到内存中，以便调用。所以可以在函数的前面调用。但是以字面量形式命名的函数，会在执行到他的时候，才进行赋值。所以只能在函数的后面调用。

```javascript
aa();      // 结果为 弹出 1
function aa(){
    alert(1)
}
aa();      // 结果为 弹出 1
aa();      // 报错 aa is not a function
var aa = function(){
    alert(1)
}
aa();
```

### 问题3：函数在不同块调用顺序

在不同的`<script></script>`块中，因为浏览器解析的时候是分块解析的，所以前面的块不能调用后面块的函数，所以在不同的块之间调用函数的时候，应该先定义后调用。

```html
<script>
    aa();      //报错
</script>
<script>
    function aa(){
        alert(1)
    }
</script>
<script>
    aa()       //结果为 弹出 1
</script>
```

## 箭头函数

ES6标准新增了一种新的函数：**Arrow Function（箭头函数）**。

### 箭头函数语法

箭头函数表达式的语法比普通函数表达式更简洁。

```js
(参数1, 参数2, …, 参数N) => { 函数声明 }

(参数1, 参数2, …, 参数N) => 表达式(单一)
// 相当于：(参数1, 参数2, …, 参数N) =>{ return 表达式; }
```

当只有一个参数时，圆括号是可选的：

```js
(单一参数) => {函数声明}
单一参数 => {函数声明}
```

没有参数的函数应该写成一对圆括号:

```js
() => {函数声明}
```

### 没有局部this的绑定

和一般的函数不同，箭头函数不会绑定this。 或者说箭头函数不会改变this本来的绑定。
